<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Focus Mode</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
  --blue:#4cc9ff;
  --purple:#9b5cff;
  --bg:#050014;
}
*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  font-family:'Orbitron',sans-serif;
  color:white;
  background:
    linear-gradient(90deg, rgba(76,201,255,.15) 1px, transparent 1px),
    linear-gradient(rgba(155,92,255,.15) 1px, transparent 1px),
    var(--bg);
  background-size:70px 70px;
  display:flex;
  justify-content:center;
}
.container{
  max-width:900px;
  width:100%;
  padding:40px 18px 120px;
  text-align:center;
}

/* TITLE */
.title{
  font-size:clamp(2.5rem,7vw,5rem);
  letter-spacing:.3em;
  color:var(--blue);
  text-shadow:0 0 25px rgba(76,201,255,.7);
}

/* TIMER */
.timer{
  display:flex;
  justify-content:center;
  gap:20px;
  margin:35px 0;
}
.box{
  padding:14px 26px;
  border-radius:30px;
  border:1px solid var(--purple);
  box-shadow:0 0 18px rgba(155,92,255,.35);
}

/* LEVEL + GRAPH TOGGLE */
.level-row{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:16px;
  margin-top:25px;
}
.level{
  color:#ffda79;
}
.graph-btn{
  padding:6px 14px;
  border-radius:20px;
  border:1px solid var(--blue);
  background:transparent;
  color:white;
  cursor:pointer;
}

/* TARGET */
.target-label{
  margin-top:30px;
  font-size:.75rem;
  letter-spacing:.35em;
  color:#cfd9ff;
}
#targetDate{
  margin-top:10px;
  padding:12px 26px;
  border-radius:30px;
  border:1px solid var(--blue);
  background:transparent;
  color:white;
  font-family:'Orbitron',sans-serif;
}
#targetDate::-webkit-calendar-picker-indicator{filter:invert(1)}

/* STREAK */
.streak{
  margin-top:20px;
  color:#ffda79;
}

/* PROGRESS BAR */
.progress{
  margin:20px auto;
  max-width:420px;
  height:12px;
  background:#1b1435;
  border-radius:20px;
  overflow:hidden;
}
.progress span{
  display:block;
  height:100%;
  width:0%;
  background:linear-gradient(90deg,var(--blue),var(--purple));
}

/* QUOTE */
.quote{
  font-size:1.1rem;
  margin:35px auto;
  color:#d7d3ff;
  min-height:1.4em;
}

/* DAYS */
.days{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
  gap:18px;
  margin-top:40px;
}
.day{
  padding:16px;
  border-radius:18px;
  border:1px solid var(--purple);
  box-shadow:0 0 18px rgba(155,92,255,.35);
  cursor:pointer;
  display:flex;
  justify-content:space-between;
}
.day.done{
  opacity:.45;
  text-decoration:line-through;
}
.day.locked{
  opacity:.25;
  cursor:not-allowed;
}

/* CHART */
.chart-wrap{
  max-width:500px;
  margin:30px auto;
  display:none;
}
</style>
</head>

<body>
<div class="container">

<div class="title">FOCUS MODE</div>

<div class="timer">
  <div class="box" id="days">0 Days</div>
  <div class="box" id="hours">0 Hours</div>
  <div class="box" id="mins">0 Min</div>
  <div class="box" id="secs">0 Sec</div>
</div>

<div class="level-row">
  <div class="level" id="level">Level 1 Â· Newbie</div>
  <button class="graph-btn" onclick="toggleGraph()">ðŸ“Š</button>
</div>

<div class="target-label">SET TARGET</div>
<input type="date" id="targetDate">

<div class="streak" id="streak">ðŸ”¥ Streak: 0 days</div>

<div class="progress"><span id="bar"></span></div>

<div class="quote" id="quote"></div>

<div class="chart-wrap" id="chartWrap">
  <canvas id="chart"></canvas>
</div>

<div class="days" id="daysList"></div>

</div>

<script>
/* ===== DATA ===== */
let completed = JSON.parse(localStorage.getItem("completedDays")) || [];

/* ===== TARGET ===== */
const input=document.getElementById("targetDate");
let target=new Date(localStorage.getItem("targetDate")||"2026-02-23");
input.value=target.toISOString().split("T")[0];
input.onchange=()=>{localStorage.setItem("targetDate",input.value);target=new Date(input.value)};

/* ===== TIMER ===== */
setInterval(()=>{
 const diff=target-new Date();
 if(diff<=0)return;
 days.innerText=Math.floor(diff/86400000)+" Days";
 hours.innerText=Math.floor(diff/3600000)%24+" Hours";
 mins.innerText=Math.floor(diff/60000)%60+" Min";
 secs.innerText=Math.floor(diff/1000)%60+" Sec";
},1000);

/* ===== STATS ===== */
function updateStats(){
 const streak=completed.length;
 streakEl.innerText="ðŸ”¥ Streak: "+streak+" days";
 bar.style.width=Math.min(100,streak)+"%";

 const lvl=Math.min(100,streak+1);
 let title="Newbie";
 if(lvl>10)title="Learner";
 if(lvl>25)title="Grinder";
 if(lvl>50)title="Warrior";
 if(lvl>75)title="Master";
 if(lvl===100)title="Legend ðŸ‘‘";
 level.innerText=`Level ${lvl} Â· ${title}`;

 localStorage.setItem("completedDays",JSON.stringify(completed));
}

/* ===== DAY LOGIC (FIXED) ===== */
function renderDays(){
 daysList.innerHTML="";
 let today = 1;
 while(completed.includes(today)) today++;

 for(let i=1;i<=today+2;i++){
  const done = completed.includes(i);
  const future = i > today;
  const d=document.createElement("div");

  d.className="day"+(done?" done":"")+(future?" locked":"");
  d.innerHTML=`Day ${i} <span>${done?"âœ–":"âœ”"}</span>`;

  d.onclick=()=>{
    if(future) return;
    if(done){
      completed = completed.filter(x=>x!==i);
    }else{
      if(i!==today) return;
      completed.push(i);
    }
    updateStats();
    renderDays();
    updateChart();
  };
  daysList.appendChild(d);
 }
}

/* ===== QUOTES ===== */
const quotes=[
"Strength doesnâ€™t come from what you can do. It comes from overcoming the things you once thought you couldnâ€™t.",
"Discipline beats motivation.",
"No zero days.",
"Prove them wrong."
];
let qi=0;
quote.innerText=quotes[0];
setInterval(()=>{qi=(qi+1)%quotes.length;quote.innerText=quotes[qi]},5000);

/* ===== GRAPH ===== */
let chart;
function updateChart(){
 const ctx=document.getElementById("chart");
 if(chart) chart.destroy();
 chart=new Chart(ctx,{
  type:"line",
  data:{
   labels:completed.map(d=>"Day "+d),
   datasets:[{
    data:completed.map((_,i)=>i+1),
    borderColor:"#4cc9ff",
    tension:.3
   }]
  },
  options:{plugins:{legend:{display:false}}}
 });
}
function toggleGraph(){
 const w=chartWrap;
 w.style.display=w.style.display==="block"?"none":"block";
 updateChart();
}

/* INIT */
const streakEl=document.getElementById("streak");
updateStats();
renderDays();
</script>

</body>
</html>
