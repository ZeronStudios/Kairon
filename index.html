<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Focus Mode</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
  --blue:#4cc9ff;
  --purple:#9b5cff;
  --bg:#050014;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Orbitron',sans-serif;
  color:white;
  background:
    linear-gradient(90deg, rgba(76,201,255,.12) 1px, transparent 1px),
    linear-gradient(rgba(155,92,255,.12) 1px, transparent 1px),
    var(--bg);
  background-size:70px 70px;
}
.container{
  max-width:1000px;
  margin:auto;
  padding:30px 16px 120px;
  text-align:center;
}
.title{
  font-size:clamp(2.5rem,6vw,5rem);
  letter-spacing:.3em;
  color:var(--blue);
  text-shadow:0 0 30px rgba(76,201,255,.8);
}
.timer{
  display:flex;
  justify-content:center;
  gap:12px;
  flex-wrap:wrap;
  margin:30px 0;
}
.box{
  padding:14px 26px;
  border-radius:30px;
  border:1px solid var(--purple);
  min-width:120px;
}
.target-label{
  letter-spacing:.2em;
  color:#8fdcff;
  margin-top:20px;
}
#targetDate{
  margin-top:8px;
  padding:12px 22px;
  border-radius:30px;
  background:transparent;
  color:white;
  border:1px solid var(--blue);
}
#targetDate::-webkit-calendar-picker-indicator{filter:invert(1)}
.streak{margin-top:18px;color:#ffda79}
.progress{
  height:12px;
  background:#1b1435;
  border-radius:20px;
  overflow:hidden;
  max-width:420px;
  margin:16px auto;
}
.progress span{
  display:block;
  height:100%;
  width:0%;
  background:linear-gradient(90deg,var(--blue),var(--purple));
}
.quote{
  margin:30px auto;
  max-width:760px;
  min-height:2.4em;
  color:#d7d3ff;
}
.days{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
  gap:16px;
  margin-top:30px;
}
.day{
  padding:14px;
  border-radius:18px;
  border:1px solid var(--purple);
  cursor:pointer;
  display:flex;
  justify-content:space-between;
}
.day.done{opacity:.45;text-decoration:line-through}
.day.locked{opacity:.25;cursor:not-allowed}

/* ACHIEVEMENTS */
.badges{
  display:flex;
  justify-content:center;
  gap:14px;
  flex-wrap:wrap;
  margin-top:30px;
}
.badge{
  padding:10px 18px;
  border-radius:20px;
  border:1px solid var(--blue);
  opacity:.35;
}
.badge.unlocked{
  opacity:1;
  box-shadow:0 0 18px rgba(76,201,255,.6);
}

/* CHART */
.chart-wrap{
  max-width:500px;
  margin:30px auto;
  display:none;
}
.toggle-btn{
  margin-top:20px;
  padding:10px 26px;
  border-radius:30px;
  background:transparent;
  border:1px solid var(--blue);
  color:white;
  cursor:pointer;
}
</style>
</head>

<body>
<div class="container">

<div class="title">FOCUS MODE</div>

<div class="timer">
  <div class="box" id="days">0 Days</div>
  <div class="box" id="hours">0 Hours</div>
  <div class="box" id="mins">0 Min</div>
  <div class="box" id="secs">0 Sec</div>
</div>

<div class="target-label">üéØ SET YOUR TARGET</div>
<input type="date" id="targetDate">

<div class="streak" id="streak">üî• Streak: 0 days</div>

<div class="progress"><span id="bar"></span></div>

<div class="quote" id="quote"></div>

<div class="badges">
  <div class="badge" id="b1">üèÅ Starter</div>
  <div class="badge" id="b7">üî• Consistent</div>
  <div class="badge" id="b30">üí™ Disciplined</div>
  <div class="badge" id="b100">üëë Legend</div>
</div>

<button class="toggle-btn" onclick="toggleChart()">üìä Toggle Graph</button>

<div class="chart-wrap" id="chartWrap">
  <canvas id="chart"></canvas>
</div>

<div class="days" id="daysList"></div>

</div>

<script>
/* ===== DATA ===== */
let completed = JSON.parse(localStorage.getItem("completedDays")) || [];
const streakEl=document.getElementById("streak");
const bar=document.getElementById("bar");

/* ===== TARGET ===== */
const input=document.getElementById("targetDate");
let target=new Date(localStorage.getItem("targetDate")||"2026-02-23");
input.value=target.toISOString().split("T")[0];
input.onchange=()=>{
 localStorage.setItem("targetDate",input.value);
 target=new Date(input.value);
};

/* ===== TIMER ===== */
setInterval(()=>{
 const diff=target-new Date();
 if(diff<=0)return;
 days.innerText=Math.floor(diff/86400000)+" Days";
 hours.innerText=Math.floor(diff/3600000)%24+" Hours";
 mins.innerText=Math.floor(diff/60000)%60+" Min";
 secs.innerText=Math.floor(diff/1000)%60+" Sec";
},1000);

/* ===== STREAK + PROGRESS ===== */
function updateStats(){
 const streak=completed.length;
 streakEl.innerText="üî• Streak: "+streak+" days";
 bar.style.width=Math.min(100,streak)+"%";

 if(streak>=1)b1.classList.add("unlocked");
 if(streak>=7)b7.classList.add("unlocked");
 if(streak>=30)b30.classList.add("unlocked");
 if(streak>=100)b100.classList.add("unlocked");

 localStorage.setItem("completedDays",JSON.stringify(completed));
}

/* ===== DAYS (ONLY TODAY ALLOWED) ===== */
function renderDays(){
 daysList.innerHTML="";
 const todayIndex=completed.length+1;

 for(let i=1;i<=todayIndex+2;i++){
  const done=completed.includes(i);
  const isToday=i===todayIndex;
  const future=i>todayIndex;
  const d=document.createElement("div");

  d.className="day"+(done?" done":"")+(future?" locked":"");
  d.innerHTML=`Day ${i} <span>${done?"‚úñ":"‚úî"}</span>`;

  d.onclick=()=>{
    if(future)return;
    if(done){
      completed=completed.filter(x=>x!==i);
    }else{
      if(!isToday)return;
      completed.push(i);
    }
    updateStats();
    renderDays();
    updateChart();
  };
  daysList.appendChild(d);
 }
}

/* ===== QUOTES ===== */
const quotes=[
"Strength doesn‚Äôt come from what you can do. It comes from overcoming the things you once thought you couldn‚Äôt.",
"Discipline beats motivation.",
"No zero days.",
"Prove them wrong.",
"You didn‚Äôt come this far to stop."
];
let qi=0;
quote.innerText=quotes[0];
setInterval(()=>{
 qi=(qi+1)%quotes.length;
 quote.innerText=quotes[qi];
},5000);

/* ===== CHART ===== */
let chart;
function updateChart(){
 const ctx=document.getElementById("chart");
 if(chart)chart.destroy();
 chart=new Chart(ctx,{
  type:"line",
  data:{
   labels:completed.map(d=>"Day "+d),
   datasets:[{
    label:"Progress",
    data:completed.map((_,i)=>i+1),
    borderColor:"#4cc9ff",
    tension:.3
   }]
  },
  options:{plugins:{legend:{display:false}}}
 });
}
function toggleChart(){
 const w=document.getElementById("chartWrap");
 w.style.display=w.style.display==="block"?"none":"block";
 updateChart();
}

/* INIT */
updateStats();
renderDays();
</script>

</body>
</html>
